
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Git bisect your bug hunting best friend - require 'mind'</title>
  <meta name="author" content="requireMind">

  
  <meta name="description" content="Are you a bug hunter? Are you desperately trying to find where a bug was introduced in your long git history? If the answer is yes, you&rsquo;re &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://requiremind.com/git-bisect-your-bug-hunting-best-friend">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="require 'mind'" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
  
  <script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-41030310-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">require 'mind'</a></h1>
  
    <h2>Learn. Live. Love. Dev.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:requiremind.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title article-title">Git Bisect Your Bug Hunting Best Friend</h1><div class="by-author">
  



    <span class="byline author vcard">
        by
        <span class="fn">
            
                <a href="http://cyrilf.com">cyrilf</a>
            
        </span>
    </span>
</div><div class="clear"></div>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-07T01:23:00+02:00" pubdate data-updated="true">Apr 7<span>th</span>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Are you a bug hunter? Are you desperately trying to find where a bug was introduced in your long git history? If the answer is yes, you&rsquo;re going to be happy to meet <a href="http://git-scm.com/book/en/git-Tools-Debugging-with-git">git bisect</a></p>

<!-- more -->


<p><img class="center" src="/images/gitbisect/bug.jpg" title="bug" alt="bug"></p>

<h3>What is it?</h3>

<p><code>git bisect</code> is installed by default with git. There is no tools or extra things to install.</p>

<p><code>bisect</code> command is performing a <a href="http://en.wikipedia.org/wiki/Binary_search_algorithm">binary search</a> between a commit in which everything was working as expected and one in which a bug was present until it finds the responsible.</p>

<h3>When should I use it?</h3>

<p>Whenever you need to find whe(n|re) a bug was introduced.<br/>
Let&rsquo;s assume that your working on a big project with a lot of developers on it. You&rsquo;re using git on a daily basis and some day someone report you that a functionality is broken.
(Obviously this can&rsquo;t happened in reality because you have a good testing strategy implemented, don&rsquo;t you? ;) ).
So you don&rsquo;t really know when the application stopped working as expected.</p>

<p>So you need to know which specific commit is guilty (and furthermore which developer is to blame!)</p>

<p>This is where <code>git bisect</code> <strong>kicks in</strong>!</p>

<h3>Usage</h3>

<p>We&rsquo;re going to review how to use it in a standard use case.
For this example, I have create a <a href="https://github.com/requiremind/git-bisect-demo">git repository</a></p>

<p>You can clone it on your computer using:</p>

<pre><code>git clone https://github.com/requiremind/git-bisect-demo.git
</code></pre>

<p>and/or simply follow this tutorial.</p>

<p>So, I have created a webpage (<code>index.html</code>)</p>

<p><img class="center" src="/images/gitbisect/tuto-git-bisect.png" title="tuto 1" alt="tuto 1"></p>

<p>and as you can see there is a <span style="background:#d9534f; color:white; padding-left:7px;padding-right:7px;">wrong</span> label on this page. Consider it as a bug or an unwanted behavior. We&rsquo;re going to track it down and found where this was introduced.</p>

<p>So, first you run this command to launch bisect:</p>

<pre><code>git bisect start
</code></pre>

<p>Then you type:</p>

<pre><code>git bisect bad
</code></pre>

<p>This one says that the current commit (HEAD, but you can specify another one)  contains the bug.</p>

<p>The next step is to give <code>bisect</code> a good commit (where you&rsquo;re sure everything was working fine, like a release for instance). In our case we&rsquo;re sure that the first commit was sane.</p>

<pre><code>git bisect good 0db16be
</code></pre>

<p>So now, bisect is &lsquo;calibrated&rsquo; and know the section in your git history to work on.<br/>
It then picks some commits (based on the <a href="http://en.wikipedia.org/wiki/Binary_search_algorithm">binary search algorthm</a>) and all you have to do is to look if the bug is still present in your application/page/whatever.</p>

<p>In our case, we simply refresh the page.</p>

<p><img class="center" src="/images/gitbisect/tuto-git-bisect-2.png" title="tuto 2" alt="tuto 2"></p>

<p>We can see that the red label is still present. So we say:</p>

<pre><code>git bisect bad
</code></pre>

<p><code>bisect</code> picks another commit for us and we need to test it again.</p>

<p><img class="center" src="/images/gitbisect/tuto-git-bisect-3.png" title="tuto 3" alt="tuto 3"></p>

<p>Yes! Good news, the red label isn&rsquo;t present anymore! So we type in:</p>

<pre><code>git bisect good
</code></pre>

<p>And we&rsquo;re done! <code>git bisect</code> have find out which commit is guilty. In our case it&rsquo;s the <code>b768e24 - Lorem ipsum is cooooool!</code>. We have successfuly found the problem origin and we now can easily fix it.</p>

<p>Before going back to work you need to enter</p>

<pre><code>git bisect reset
</code></pre>

<p>to reset your <code>HEAD</code> to where you were before you started.</p>

<p>This example was really simple because it contains only a few commits and there is only one file. But in a real life case, it could be really useful!</p>

<h3>Going further</h3>

<p>You have found the bad commit. This is great, you can now check the files that this commit contains and you will easily find where the bug has been introduced. In our case, it&rsquo;s in the <code>index.html</code> file on line 21.</p>

<p>So you can run the following to see who is guilty:</p>

<pre><code>git blame index.html -L 21,21
</code></pre>

<p>In this case it&rsquo;s.. me! Of course. This is a really cool feature that you could play with.</p>

<p>Last information about <code>git bisect</code>. In this example we were required to say manually on each commits picked by bisect if it was a good or a bad one.<br/>
This is really not a good way to go if you have a long git history.</p>

<p>Fortunately you can use a script to automate <code>git bisect</code>.<br/>
Your script should return 0 if it&rsquo;s good or non-0 if a bug occured.
Then you simply run:</p>

<pre><code>git bisect run bug-hunter.sh
</code></pre>

<p>You can retrieve all official documentation about <a href="http://git-scm.com/book/en/git-Tools-Debugging-with-git">git bisect</a>.</p>

<p>Hope it will help you on your next bug hunting!</p>
</div>

  <footer>
    <p class="meta">
      
  



    <span class="byline author vcard">
        by
        <span class="fn">
            
                <a href="http://cyrilf.com">cyrilf</a>
            
        </span>
    </span>

      








  


<time datetime="2014-04-07T01:23:00+02:00" pubdate data-updated="true">Apr 7<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/categories/git/'>git</a>, <a class='category' href='/categories/tools/'>tools</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/deploying-a-rails-app-on-your-own-server-the-ultimate-guide" title="Previous Post: Deploying a Rails App on Your Own Server - The Ultimate Guide">&laquo; Deploying a Rails App on Your Own Server - The Ultimate Guide</a> /
      
        &nbsp;&nbsp; <a class="basic-alignment" href="/" title="Home">Home</a>
      
        / <a class="basic-alignment right" href="/currying-spice-up-your-javascript-functions" title="Next Post: Currying, spice up your javascript functions">Currying, spice up your javascript functions &raquo;</a>
      
    </p>
  </footer>
</article>

  <section id="comments-section">
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>


</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/currying-spice-up-your-javascript-functions">Currying, spice up your javascript functions</a>
      </li>
    
      <li class="post">
        <a href="/git-bisect-your-bug-hunting-best-friend">Git bisect your bug hunting best friend</a>
      </li>
    
      <li class="post">
        <a href="/deploying-a-rails-app-on-your-own-server-the-ultimate-guide">Deploying a Rails App on Your Own Server - The Ultimate Guide</a>
      </li>
    
      <li class="post">
        <a href="/discover-emmet-and-improve-your-coding-speed">Discover Emmet and improve your coding speed</a>
      </li>
    
      <li class="post">
        <a href="/ruby-on-rails-4-and-batman-dot-js-another-getting-started-tutorial">Ruby on Rails 4 and Batman.js - Another Getting Started Tutorial</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - requireMind -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'requiremind';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://requiremind.com/git-bisect-your-bug-hunting-best-friend';
        var disqus_url = 'http://requiremind.com/git-bisect-your-bug-hunting-best-friend';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
